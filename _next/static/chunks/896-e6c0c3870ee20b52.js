"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[896],{64261:function(e,s,a){var l=a(85893),r=a(67294),i=a(80693),t=a(37887),n=a(56925),d=a(3303),c=a(38719),o=a(25287),m=a(75119),x=a(25675),u=a.n(x);let h=e=>{var s,a,i,x,h;let{urls:j,loading:f=!1}=e;if(f)return(0,l.jsx)(p,{});let[N,b]=(0,r.useState)(),{loading:y,data:w}=(0,t.a)(n.Z,{skip:!N,variables:{imageUrl:N}}),{t:k}=(0,c.$G)("product-aliexpress"),_=()=>{b(null)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:k("sidebar.title")}),(0,l.jsx)("p",{className:"text-lightGray mt-1 dark:text-gray-300 leading-tight",children:k("sidebar.subtitle")})]}),(0,l.jsx)("div",{className:"aspect-w-10 aspect-h-7 block w-full overflow-hidden rounded-lg",children:(null==j?void 0:j.length)>0?(0,l.jsx)("img",{src:N||(null==j?void 0:j[0]),alt:"",className:"object-cover mx-auto rounded-lg max-h-60"}):(0,l.jsx)("p",{className:"text-center",children:k("sidebar.no_image_found")})}),y?(0,l.jsxs)("div",{className:"mt-4 sm:text-left flex flex-col sm:flex-row justify-center items-center",children:[(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(u(),{src:"/images/rocket-load.gif",alt:"Loading",width:80,height:80,className:"w-20 h-20 rounded-full"})}),(0,l.jsxs)("div",{className:"font-semibold pl-4",children:[(0,l.jsx)("p",{className:"text-base md:text-xl dark:text-gray-300",children:k("analyse-in-progress")}),(0,l.jsx)("p",{className:"text-xs text-secondary",children:k("take_seconds")})]})]}):N?(null==w?void 0:null===(s=w.searchAliexpress)||void 0===s?void 0:null===(a=s.products)||void 0===a?void 0:a.length)>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(d.Z,{layout:"outline",className:"space-x-2 flex items-center",onClick:_,children:[(0,l.jsx)(o.Z,{className:"w-5 h-5 mr-1"}),k("sidebar.search_back")]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,l.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,l.jsx)("div",{className:"relative flex justify-center",children:(0,l.jsx)("span",{className:"bg-white dark:bg-gray-700 px-2 text-sm text-gray-500 dark:text-gray-300",children:k("sidebar.found_on_ali")})})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4",children:null==w?void 0:null===(i=w.searchAliexpress)||void 0===i?void 0:null===(x=i.products)||void 0===x?void 0:x.map((e,s)=>(0,l.jsx)(v,{product:e},s))})]}):(0,l.jsxs)("div",{className:"mt-6 text-center space-y-6 flex justify-center flex-col",children:[(0,l.jsx)("p",{children:k("sidebar.no_match_on_ali")}),(0,l.jsxs)(d.Z,{layout:"outline",className:"space-x-2 flex items-center",onClick:_,children:[(0,l.jsx)(o.Z,{className:"w-5 h-5 mr-1"}),k("sidebar.search_back")]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:(0,m.AK)(((null==j?void 0:j.length)<1||!j)&&"hidden"),children:(0,l.jsx)(d.Z,{size:"large",className:"w-full",onClick:()=>b(null==j?void 0:j[0]),children:k("sidebar.search_on_ali")})}),(null==j?void 0:j.length)>1&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,l.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,l.jsx)("div",{className:"relative flex justify-center",children:(0,l.jsx)("span",{className:"bg-white dark:bg-gray-700 px-2 text-sm text-gray-500 dark:text-gray-300",children:k("sidebar.select_another_img")})})]}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-1",children:null===(h=null==j?void 0:j.slice(1))||void 0===h?void 0:h.map((e,s)=>(0,l.jsx)(g,{url:e,onSelect:b},s))})]})]})]})},g=e=>{let{url:s,onSelect:a}=e;return(0,l.jsx)("button",{onClick:()=>a(s),className:"col-span-1 hover:opacity-70",children:(0,l.jsx)("img",{className:"w-full rounded",src:s})})},v=e=>{var s;let{product:a}=e,{t:r}=(0,c.$G)("product-aliexpress");return(0,l.jsxs)("a",{className:"mb-6 transform duration-300 scale-100 hover:scale-105 col-span-1",href:null==a?void 0:a.detailUrl,rel:"noreferrer",target:"_blank",children:[(0,l.jsx)("div",{className:"w-full h-40 bg-white dark:bg-gray-700 bg-cover bg-no-repeat bg-center rounded-xl",style:{backgroundImage:(null==a?void 0:a.imageUrl)?"url(".concat(N(null==a?void 0:a.imageUrl),")"):"url(".concat((0,i.ns)(),")")}}),(0,l.jsx)("h2",{title:null==a?void 0:a.title,className:"text-sm dark:text-gray-100 pt-3 font-semibold truncate",children:null==a?void 0:a.title}),(0,l.jsx)("div",{className:"pt-2 sm:flex justify-between",children:(0,l.jsxs)("div",{className:"text-xs font-medium",children:[(0,l.jsx)("p",{className:"text-secondary dark:text-gray-200",children:null==a?void 0:null===(s=a.price)||void 0===s?void 0:s.display}),(0,l.jsx)("p",{className:"pt-0.5 dark:text-gray-300 text-xxs md:text-xs",children:r("products.orders_ratings",{orders:(null==a?void 0:a.orders)||0,ratings:(null==a?void 0:a.ratings)||0})})]})})]},null==a?void 0:a.productId)},p=()=>(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"w-3/5 h-8 bg-gray-200 rounded-md"}),(0,l.jsx)("div",{className:"w-full h-4 bg-gray-200 rounded-md mt-2"}),(0,l.jsx)("div",{className:"w-4/5 h-4 bg-gray-200 rounded-md mt-1"})]}),(0,l.jsx)("div",{className:"aspect-w-10 aspect-h-7 block w-full overflow-hidden rounded-lg h-60 bg-gray-200 mt-6"}),(0,l.jsx)("div",{className:"flex mt-6 justify-between space-x-3",children:(0,l.jsx)("div",{className:"h-12 w-full bg-gray-200 rounded-md"})}),(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)("div",{className:"w-full h-4 bg-gray-200 rounded-md"})}),(0,l.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-1",children:[(0,l.jsx)("div",{className:"col-span-1 h-32 bg-gray-200 rounded-md "}),(0,l.jsx)("div",{className:"col-span-1 h-32 bg-gray-200 rounded-md"}),(0,l.jsx)("div",{className:"col-span-1 h-32 bg-gray-200 rounded-md"}),(0,l.jsx)("div",{className:"col-span-1 h-32 bg-gray-200 rounded-md"}),(0,l.jsx)("div",{className:"col-span-1 h-32 bg-gray-200 rounded-md"}),(0,l.jsx)("div",{className:"col-span-1 h-32 bg-gray-200 rounded-md"}),(0,l.jsx)("div",{className:"col-span-1 h-32 bg-gray-200 rounded-md"}),(0,l.jsx)("div",{className:"col-span-1 h-32 bg-gray-200 rounded-md"}),(0,l.jsx)("div",{className:"col-span-1 h-32 bg-gray-200 rounded-md"})]})]}),j=e=>window.btoa(unescape(encodeURIComponent(e))),f=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=e,l=0;for(l of function*(e,s){for(let e=0;e<=s;e++)yield e}(0,s-1))a=(a=j(a)).substring(0,l)+"z"+a.substring(l);return a},N=e=>"https://media2.dropispy.com/files/"+f(e);s.Z=h},41173:function(e,s,a){var l=a(85893),r=a(67294),i=a(11355),t=a(82422),n=a(19965),d=a(75119);let c=e=>{let{open:s,setOpen:a,children:c,className:o}=e;return(0,l.jsx)(i.u.Root,{show:s,as:r.Fragment,children:(0,l.jsxs)(t.V,{as:"div",className:"relative z-100",onClose:()=>a(!1),children:[(0,l.jsx)(i.u.Child,{as:r.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-hidden",children:(0,l.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,l.jsx)("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:(0,l.jsx)(i.u.Child,{as:r.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,l.jsxs)(t.V.Panel,{className:(0,d.AK)("pointer-events-auto relative w-96 ",o),children:[(0,l.jsx)(i.u.Child,{as:r.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"absolute top-0 left-0 -ml-8 flex pt-4 pr-2 sm:-ml-10 sm:pr-4",children:(0,l.jsxs)("button",{type:"button",className:"rounded-md text-gray-300 hover:text-white focus:outline-none ",onClick:()=>a(!1),children:[(0,l.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,l.jsx)(n.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})}),(0,l.jsx)("div",{className:"h-full overflow-y-auto bg-white dark:bg-gray-700 py-8 px-6",children:(0,l.jsx)("div",{className:"space-y-6 pb-16",children:c})})]})})})})})]})})};s.Z=c},56925:function(e,s,a){var l=a(7297),r=a(22865);function i(){let e=(0,l.Z)(["\n  query SEARCH_ALI_EXPRESS($imageUrl: String!) {\n    searchAliexpress(imageUrl: $imageUrl) {\n      products {\n        detailUrl\n        productId\n        imageUrl\n        title\n        ratings\n        orders\n        price {\n          display\n        }\n      }\n    }\n  }\n"]);return i=function(){return e},e}s.Z=(0,r.Ps)(i())}}]);