(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4360],{77741:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/find-winning-product",function(){return a(7527)}])},76004:function(e,t,a){"use strict";a.d(t,{Z:function(){return M}});var n=a(7297),i=a(85893),r=a(67294),s=a(73359),l=a(50319),o=a(74557),d=a(13043),c=a.n(d),u=a(11355),m=a(54873),p=a(88904),v=a(41855),g=a(80637),x=a(76967),f=a(3303),h=a(27139),y=a(5781),j=a(40481),w=a(51978),b=a(59996),_=a(38719),N=a(64358);function k(){let e=(0,n.Z)(["\n  mutation CreateEvent($input: CreateEventInput!) {\n    createEvent(input: $input) {\n      id\n      type\n      user\n      description\n      item\n      createdAt\n      updatedAt\n      userEmail\n      userName\n      listItemId\n      listItemUrl\n      listItemImage\n      listItemName\n      listItemDescription\n      owner\n    }\n  }\n"]);return k=function(){return e},e}var C=(0,a(22865).Ps)(k());let S=()=>{let{dynoProfile:e}=(0,j.Un)(),[t,{loading:a,data:n,error:i}]=(0,l.D)(C),r=async e=>{try{let a=await t({variables:e});console.log(a)}catch(e){console.log(e)}};return r};var Z=a(75971),D=a(75119),I=a(11163),A=a(23677),E=a(71722),O=a(9669),T=a.n(O);function F(){let e=(0,n.Z)(["\n  block \n  w-full \n  text-left \n  px-4 \n  py-2 \n  text-sm \n  text-textSecondary \n  dark:text-white \n  dark:hover:text-gray-200 \n  hover:bg-gray-100 \n  dark:hover:bg-gray-700 \n  hover:text-textSecondary\n  font-semibold\n"]);return F=function(){return e},e}let $=c().button(F()),K=e=>{var t,n;let{itemId:d,children:c,align:k=w.xM.center,ad:C,type:O,full:F,buttonClassName:K}=e,{dynoProfile:M,isPaidUser:G,refetchProfile:P}=(0,j.Un)(),U=null==M?void 0:M.id,[q,B]=(0,r.useState)(""),{t:J}=(0,_.$G)("lists"),L=(0,I.useRouter)(),{state:Q,toggle:R,setToInitial:V}=(0,v.Z)(!1),{toggleRegisterIsOpen:Y}=(0,y.BF)(),{toggleLockPop:z}=(0,A.Zx)(),X=(0,r.useRef)(null),W=L.route,{onAddToList:H,error:ee}=(0,b.Z)(O),et=S();(0,g.Z)(X,V);let[ea,{loading:en,data:ei,error:er,refetch:es}]=(0,s.t)(p.Z,{variables:{owner:U,limit:20,sortDirection:o.Sv.ASC}}),[el,{error:eo,loading:ed}]=(0,l.D)(m.Z,{variables:{owner:U,title:q},refetchQueries:[{query:p.Z,variables:{owner:U,limit:20,sortDirection:o.Sv.ASC}},{query:p.Z,variables:{owner:U,limit:100,sortDirection:o.Sv.DESC}}]}),ec=async e=>{var t;if(await H(e,d),es(),"ad"===O&&(null==M?void 0:M.apiKey)&&await et({input:{type:"addToList",listItemId:d,user:U,listItemUrl:C.url,listItemImage:C.attachments.filter(e=>"video"!==e.media_url_type)[0].media_url,listItemName:(0,Z.YQ)(C)||(null==C?void 0:C.page_name),listItemDescription:C.page_name||(0,Z.YQ)(C),item:"facebookAdvert"}}),"ad"===O&&(null==M?void 0:M.isEmailVerified)&&!(null==M?void 0:null===(t=M.appliedOffers)||void 0===t?void 0:t.includes(N.O1)))try{let e=await T().post("/api/appliedOffer",{userId:null==M?void 0:M.id,appliedOffer:N.O1,skip:!1});P(),console.log("res",null==e?void 0:e.data)}catch(e){console.error(null==e?void 0:e.data)}V()},eu=()=>{if(null==M?void 0:M.id){R(),ea();return}return(null==M?void 0:M.id)?(0,D.$Y)(W,null==M?void 0:M.plan)?z():void 0:Y()};return(0,i.jsxs)("div",{className:"inline-block text-left ".concat(F?"w-full":""),ref:X,children:[(0,i.jsx)(f.Z,{"data-test":"addToList",className:(0,D.AK)("flex-shrink-0 text-gray-500 dark:text-gray-300 ".concat(F?"w-full":""),K),id:"options-menu","aria-expanded":"true","aria-haspopup":"true",onClick:eu,layout:"outline",children:c}),(0,i.jsx)(u.u,{show:Q,as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,i.jsx)("div",{className:"z-50 max-h-96 overflow-y-auto origin-top-right absolute dark:shadow-outline-white dark:shadow-orange shadow-outline-gray ".concat(k===w.xM.center?"-left-2 bottom-10":k===w.xM.right?"left-0":"right-0"," mt-2 w-auto max-w-3xl shadow-2xl min-w-0 rounded-lg shadow-xs bg-white dark:bg-gray-800"),children:(0,i.jsxs)("div",{className:"py-1",style:{minWidth:"256px"},children:[en?(0,i.jsx)(E.Z,{className:"w-6 h-6 mx-auto animate-spin dark:text-white my-5"}):null==ei?void 0:null===(t=ei.listsByOwner)||void 0===t?void 0:null===(n=t.items)||void 0===n?void 0:n.map(e=>(0,i.jsx)(r.Fragment,{children:(0,i.jsx)($,{"data-test":"listTitle",role:"menuitem",onClick:()=>ec(e),children:null==e?void 0:e.title})},null==e?void 0:e.id)),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,i.jsx)("div",{className:"w-full border-t border-gray-200 dark:border-gray-600"})}),(0,i.jsx)("div",{className:"relative flex justify-center",children:(0,i.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-sm text-secondary",children:J("or")})})]}),(0,i.jsxs)("form",{className:"my-2 mx-4 flex items-center flex-col space-y-4",onSubmit:async e=>{var t;e.preventDefault();let n=await el();await ec(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.createList),G()&&await a.g.analytics.track(N.Bv,{listName:q})},children:[(0,i.jsx)(h.l_,{className:"",required:!0,onChange:e=>{B(e.target.value)}}),(0,i.jsx)(f.Z,{className:"mt-1",type:"submit",disabled:ed,children:J("add_to_list")})]}),ee&&(0,i.jsx)(x.Z,{error:ee}),eo&&(0,i.jsx)(x.Z,{error:eo})]})})})]})};var M=K},95572:function(e,t,a){"use strict";var n=a(85893),i=a(50319),r=a(73722),s=a(76967),l=a(38719),o=a(3303);let d=e=>{let{listId:t,type:a,ids:d,idToRemove:c}=e,{t:u}=(0,l.$G)("lists"),m=null==d?void 0:d.filter(e=>e!==c),p={input:{id:t,["".concat(a,"Ids")]:m,["".concat(a,"Count")]:null==m?void 0:m.length}},[v,{error:g,loading:x}]=(0,i.D)(r.Z,{variables:p});return g?(0,n.jsx)(s.Z,{error:g}):(0,n.jsx)(o.Z,{className:"w-full",layout:"outline",onClick:()=>v(),children:u("Remove from list")})};t.Z=d},59996:function(e,t,a){"use strict";var n=a(67294),i=a(50319),r=a(73722),s=a(64358),l=a(40481),o=a(42148),d=a(85897),c=a(75119),u=a(67421);let m=e=>{let[t,m]=(0,n.useState)(!1),{isPaidUser:p}=(0,l.Un)(),{pushNotification:v}=(0,o.lm)(),{t:g}=(0,u.$G)("lists"),[x,{loading:f,error:h,data:y}]=(0,i.D)(r.Z),j=async(t,n)=>{m(!0);let i=t["".concat(e,"Ids")]||[],r=t["".concat(e,"Count")]?t["".concat(e,"Count")]+1:1,l=i.includes(n);if(!l){let l=[...i,n];await x({variables:{input:{id:t.id,["".concat(e,"Ids")]:l,["".concat(e,"Count")]:r}}}),v(g("success_added_list"),d.m.success,(0,c.Vf)("success")),p()&&await a.g.analytics.track(s.b5,{itemType:e,itemId:n})}m(!1)},w=async(t,a)=>{if((null==a?void 0:a.length)>0){m(!0);let n=t["".concat(e,"Ids")]||[],i=[...Array.from(new Set([...n,...a]))];await x({variables:{input:{id:t.id,["".concat(e,"Ids")]:i,["".concat(e,"Count")]:null==i?void 0:i.length}}}),v(g("success_added_list"),d.m.success,(0,c.Vf)("success")),m(!1)}};return{onAddMultiToList:w,onAddToList:j,loadingAdd:t,error:h}};t.Z=m},7527:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return C}});var n=a(85893),i=a(67294),r=a(9008),s=a.n(r),l=a(11163),o=a.n(l),d=a(13326),c=a(84331),u=a(36954),m=a(93156),p=a(40481),v=a(32405),g=a(51978),x=a(38719),f=a(75119),h=a(3303),y=a(5781),j=a(61087),w=a(36808),b=a.n(w),_=a(9669),N=a.n(_);let k=()=>{let{t:e}=(0,x.$G)("ads"),{t:t}=(0,x.$G)("common"),{dynoProfile:a}=(0,p.Un)(),{toggleRegisterIsOpen:r}=(0,y.BF)(),l=b().getJSON("_fprom_ref")||null,[w,_]=(0,i.useState)(b().getJSON("affiCoupon")||null),[k,C]=(0,i.useState)(b().getJSON("affiDiscount")||20),[S,Z]=(0,i.useState)(!1),[D,I]=(0,i.useState)([]),[A,E]=(0,i.useState)(),[O,T]=(0,i.useState)(!1),[F,$]=(0,i.useState)(100),K=["creation_date","first_seen_date","last_seen_date","longest_running","like","share","comment","love","haha","sorry","anger","wow"].map(t=>({text:e("filters.".concat(t,".label")),value:t}));(0,i.useEffect)(()=>{(async()=>{Z(!0);try{let e=await (0,f.PT)("json/top10ads.json");I(e.slice(0,20))}catch(e){console.error(e)}Z(!1)})()},[]);let[M,G]=(0,i.useState)(1),{chips:P,handleSetChip:U,resetChips:q,isActive:B,displayChips:J}=(0,v.Z)(),L=(0,f.Ds)(U,350,!1),[Q,R]=(0,i.useState)("-");(null==a?void 0:a.id)&&o().push("/posts");let V=async()=>{if(l&&!w){try{var e,t,a,n,i,r,s;T(!0);let o=await N().get("/api/fetchCouponCode?refId=".concat(l));(null==o?void 0:null===(e=o.data)||void 0===e?void 0:e.promoCode)&&(console.log("result?.data?.discountAmount",null==o?void 0:null===(a=o.data)||void 0===a?void 0:a.discountAmount),_(null==o?void 0:null===(n=o.data)||void 0===n?void 0:n.promoCode),C((null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.discountAmount)||20),b().set("affiCoupon",null==o?void 0:null===(r=o.data)||void 0===r?void 0:r.promoCode),b().set("affiDiscount",(null==o?void 0:null===(s=o.data)||void 0===s?void 0:s.discountAmount)||20)),E((null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.promoterName)||null)}catch(e){console.error(e)}T(!1)}};return(0,i.useEffect)(()=>{if(!F)return;let e=null;return e=setInterval(()=>{$(e=>e-1)},500),()=>clearInterval(e)},[F]),(0,i.useEffect)(()=>{V()},[l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:e("metadata.title")}),(0,n.jsx)("meta",{name:"description",content:e("metadata.description")}),(0,n.jsx)("meta",{property:"og:type",content:"article"}),(0,n.jsx)("meta",{property:"og:title",content:e("metadata.title")}),(0,n.jsx)("meta",{property:"og:description",content:e("metadata.description")}),(0,n.jsx)("meta",{property:"og:image",content:"https://app.minea.com/images/minea-trouve-produits-gagnants-dropshipping-par-image-sur-aliexpress.jpg"}),(0,n.jsx)("meta",{property:"og:url",content:"https://app.minea.com/find-winning-product"}),(0,n.jsx)("meta",{property:"og:site_name",content:"Minea"}),(0,n.jsx)("script",{type:"application/ld+json",children:JSON.stringify([(0,j.mK)(j.Dy.Review,"Minea | Trouve les produits gagnants du moment"),(0,j.mK)(j.Dy.Application,"Minea | Trouve les produits gagnants du moment"),(0,j.mK)(j.Dy.Organization),(0,j.mK)(j.Dy.FAQPage),(0,j.mK)(j.Dy.DetailLinks)])})]}),(0,n.jsx)("h1",{className:"mt-6 text-2xl font-semibold dark:text-gray-200 relative",children:e("dashboard.fakeTitle")}),(0,n.jsxs)("div",{className:"flex justify-end",children:[w&&0!=F&&!O&&(0,n.jsxs)("button",{className:"-mt-8 animate-fade-in text-left",onClick:r,children:[A&&(0,n.jsx)("p",{className:"text-gray-400",children:"".concat(A," ").concat(t("invited_you"))}),(0,n.jsxs)("div",{className:"px-8 py-4 pb-5 bg-gray-100 dark:bg-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800/70 transition-colors",children:[(0,n.jsxs)("p",{className:"mb-4 font-semibold",children:["\uD83C\uDF89 ",t("apply_your_discount",{discount:k})," \uD83C\uDF89"]}),(0,n.jsx)("span",{className:"bg-gray-50 px-4 py-3 w-fit rounded font-semibold dark:bg-gray-700",children:w})]}),(0,n.jsx)("div",{className:"w-full h-1 bg-gray-200 dark:bg-gray-800",children:(0,n.jsx)("div",{className:"bg-primary h-1 rounded-full transition-width",style:{width:"".concat(F,"%")}})})]}),O&&(0,n.jsx)("div",{className:"-mt-8 h-[100px] w-[300px] animate-pulse bg-gray-100 dark:bg-gray-800 rounded-md"})]}),(0,n.jsx)(c.Z,{setPage:G,isActive:B,handleSetChip:L,chips:J,resetChips:q}),(0,n.jsx)("div",{className:"my-5 flex justify-end",children:(0,n.jsx)(d.Z,{options:K,align:g.xM.right,handleSetChip:L,setDirection:R,direction:Q,chips:P})}),(0,n.jsxs)("div",{className:"mb-14 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 3xl:grid-cols-8",children:[null==D?void 0:D.map(e=>(0,n.jsx)(u.Z,{ad:e},e.id)),S&&[...Array(10)].map((e,t)=>(0,n.jsx)(m.Z,{},t))]}),(0,n.jsx)("div",{className:"flex justify-center mb-1",children:(0,n.jsx)(h.Z,{className:"w-auto px-4",onClick:r,children:t("register.see_more_cta_bottom")})}),(0,n.jsx)("p",{className:"italic text-xs text-dark text-center mb-10",children:t("register.no_credit_card_required")})]})};var C=!0;t.default=k}},function(e){e.O(0,[9669,4762,3023,8580,2206,2151,1087,8144,9774,2888,179],function(){return e(e.s=77741)}),_N_E=e.O()}]);