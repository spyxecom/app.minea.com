"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6502],{76004:function(e,t,l){l.d(t,{Z:function(){return z}});var a=l(7297),n=l(85893),i=l(67294),s=l(73359),r=l(50319),o=l(74557),d=l(13043),c=l.n(d),u=l(11355),m=l(54873),v=l(88904),x=l(41855),h=l(80637),f=l(76967),p=l(3303),w=l(27139),y=l(5781),g=l(40481),j=l(51978),b=l(59996),N=l(38719),k=l(64358);function Z(){let e=(0,a.Z)(["\n  mutation CreateEvent($input: CreateEventInput!) {\n    createEvent(input: $input) {\n      id\n      type\n      user\n      description\n      item\n      createdAt\n      updatedAt\n      userEmail\n      userName\n      listItemId\n      listItemUrl\n      listItemImage\n      listItemName\n      listItemDescription\n      owner\n    }\n  }\n"]);return Z=function(){return e},e}var I=(0,l(22865).Ps)(Z());let _=()=>{let{dynoProfile:e}=(0,g.Un)(),[t,{loading:l,data:a,error:n}]=(0,r.D)(I),i=async e=>{try{let l=await t({variables:e});console.log(l)}catch(e){console.log(e)}};return i};var C=l(75971),S=l(75119),D=l(11163),A=l(23677),E=l(71722),T=l(9669),$=l.n(T);function F(){let e=(0,a.Z)(["\n  block \n  w-full \n  text-left \n  px-4 \n  py-2 \n  text-sm \n  text-textSecondary \n  dark:text-white \n  dark:hover:text-gray-200 \n  hover:bg-gray-100 \n  dark:hover:bg-gray-700 \n  hover:text-textSecondary\n  font-semibold\n"]);return F=function(){return e},e}let O=c().button(F()),U=e=>{var t,a;let{itemId:d,children:c,align:Z=j.xM.center,ad:I,type:T,full:F,buttonClassName:U}=e,{dynoProfile:z,isPaidUser:B,refetchProfile:G}=(0,g.Un)(),K=null==z?void 0:z.id,[M,R]=(0,i.useState)(""),{t:q}=(0,N.$G)("lists"),L=(0,D.useRouter)(),{state:Q,toggle:V,setToInitial:Y}=(0,x.Z)(!1),{toggleRegisterIsOpen:P}=(0,y.BF)(),{toggleLockPop:W}=(0,A.Zx)(),H=(0,i.useRef)(null),J=L.route,{onAddToList:X,error:ee}=(0,b.Z)(T),et=_();(0,h.Z)(H,Y);let[el,{loading:ea,data:en,error:ei,refetch:es}]=(0,s.t)(v.Z,{variables:{owner:K,limit:20,sortDirection:o.Sv.ASC}}),[er,{error:eo,loading:ed}]=(0,r.D)(m.Z,{variables:{owner:K,title:M},refetchQueries:[{query:v.Z,variables:{owner:K,limit:20,sortDirection:o.Sv.ASC}},{query:v.Z,variables:{owner:K,limit:100,sortDirection:o.Sv.DESC}}]}),ec=async e=>{var t;if(await X(e,d),es(),"ad"===T&&(null==z?void 0:z.apiKey)&&await et({input:{type:"addToList",listItemId:d,user:K,listItemUrl:I.url,listItemImage:I.attachments.filter(e=>"video"!==e.media_url_type)[0].media_url,listItemName:(0,C.YQ)(I)||(null==I?void 0:I.page_name),listItemDescription:I.page_name||(0,C.YQ)(I),item:"facebookAdvert"}}),"ad"===T&&(null==z?void 0:z.isEmailVerified)&&!(null==z?void 0:null===(t=z.appliedOffers)||void 0===t?void 0:t.includes(k.O1)))try{let e=await $().post("/api/appliedOffer",{userId:null==z?void 0:z.id,appliedOffer:k.O1,skip:!1});G(),console.log("res",null==e?void 0:e.data)}catch(e){console.error(null==e?void 0:e.data)}Y()},eu=()=>{if(null==z?void 0:z.id){V(),el();return}return(null==z?void 0:z.id)?(0,S.$Y)(J,null==z?void 0:z.plan)?W():void 0:P()};return(0,n.jsxs)("div",{className:"inline-block text-left ".concat(F?"w-full":""),ref:H,children:[(0,n.jsx)(p.Z,{"data-test":"addToList",className:(0,S.AK)("flex-shrink-0 text-gray-500 dark:text-gray-300 ".concat(F?"w-full":""),U),id:"options-menu","aria-expanded":"true","aria-haspopup":"true",onClick:eu,layout:"outline",children:c}),(0,n.jsx)(u.u,{show:Q,as:i.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,n.jsx)("div",{className:"z-50 max-h-96 overflow-y-auto origin-top-right absolute dark:shadow-outline-white dark:shadow-orange shadow-outline-gray ".concat(Z===j.xM.center?"-left-2 bottom-10":Z===j.xM.right?"left-0":"right-0"," mt-2 w-auto max-w-3xl shadow-2xl min-w-0 rounded-lg shadow-xs bg-white dark:bg-gray-800"),children:(0,n.jsxs)("div",{className:"py-1",style:{minWidth:"256px"},children:[ea?(0,n.jsx)(E.Z,{className:"w-6 h-6 mx-auto animate-spin dark:text-white my-5"}):null==en?void 0:null===(t=en.listsByOwner)||void 0===t?void 0:null===(a=t.items)||void 0===a?void 0:a.map(e=>(0,n.jsx)(i.Fragment,{children:(0,n.jsx)(O,{"data-test":"listTitle",role:"menuitem",onClick:()=>ec(e),children:null==e?void 0:e.title})},null==e?void 0:e.id)),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,n.jsx)("div",{className:"w-full border-t border-gray-200 dark:border-gray-600"})}),(0,n.jsx)("div",{className:"relative flex justify-center",children:(0,n.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-sm text-secondary",children:q("or")})})]}),(0,n.jsxs)("form",{className:"my-2 mx-4 flex items-center flex-col space-y-4",onSubmit:async e=>{var t;e.preventDefault();let a=await er();await ec(null==a?void 0:null===(t=a.data)||void 0===t?void 0:t.createList),B()&&await l.g.analytics.track(k.Bv,{listName:M})},children:[(0,n.jsx)(w.l_,{className:"",required:!0,onChange:e=>{R(e.target.value)}}),(0,n.jsx)(p.Z,{className:"mt-1",type:"submit",disabled:ed,children:q("add_to_list")})]}),ee&&(0,n.jsx)(f.Z,{error:ee}),eo&&(0,n.jsx)(f.Z,{error:eo})]})})})]})};var z=U},95572:function(e,t,l){var a=l(85893),n=l(50319),i=l(73722),s=l(76967),r=l(38719),o=l(3303);let d=e=>{let{listId:t,type:l,ids:d,idToRemove:c}=e,{t:u}=(0,r.$G)("lists"),m=null==d?void 0:d.filter(e=>e!==c),v={input:{id:t,["".concat(l,"Ids")]:m,["".concat(l,"Count")]:null==m?void 0:m.length}},[x,{error:h,loading:f}]=(0,n.D)(i.Z,{variables:v});return h?(0,a.jsx)(s.Z,{error:h}):(0,a.jsx)(o.Z,{className:"w-full",layout:"outline",onClick:()=>x(),children:u("Remove from list")})};t.Z=d},16324:function(e,t,l){l.d(t,{Z:function(){return p}});var a,n,i=l(85893);l(67294);var s=l(41664),r=l.n(s),o=l(33082),d=l.n(o),c=l(33772),u=l(40481);(a=n||(n={})).sm="sm",a.md="md",a.lg="lg",a.xl="xl";let m=e=>{let{size:t=n.sm}=e;return(0,i.jsx)("svg",{className:"text-primary fill-current animate-spin ".concat(t===n.sm?"w-5":t===n.md?"w-8":t===n.lg?"w-10":"w-16"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm8 12c0 4.418-3.582 8-8 8s-8-3.582-8-8 3.582-8 8-8 8 3.582 8 8zm-19 0c0-6.065 4.935-11 11-11v2c-4.962 0-9 4.038-9 9 0 2.481 1.009 4.731 2.639 6.361l-1.414 1.414.015.014c-2-1.994-3.24-4.749-3.24-7.789z"})})};var v=l(38719),x=l(75119),h=l(11163);let f=e=>{let{onLoadMore:t,loading:l,className:a}=e,{dynoProfile:s}=(0,u.Un)(),{t:o}=(0,v.$G)(),{pathname:f}=(0,h.useRouter)();return(null==s?void 0:s.credits)<10&&(null==s?void 0:s.plan)!="lite"&&(null==s?void 0:s.id)?(0,i.jsx)("div",{className:(0,x.AK)("mb-8 sm:mx-8 md:mx-14 bg-yellow-50 border-l-4 border-yellow-400 p-4",a),children:(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)(c.Z,{className:"h-5 w-5 text-yellow-400","aria-hidden":"true"})}),(0,i.jsx)("div",{className:"ml-3",children:(0,i.jsxs)("p",{className:"text-sm text-yellow-700",children:[o("no_credits_left")," ",(0,i.jsx)(r(),{href:"/no-credits",className:"font-medium underline text-yellow-700 hover:text-yellow-600",children:o("add_more_credits")})]})})]})}):(null==s?void 0:s.plan)=="lite"&&"/posts"!=f&&"/placements"!=f?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)("div",{className:(0,x.AK)("mb-4 flex justify-center",a),children:(0,i.jsx)(d(),{onChange:t,children:(0,i.jsx)("div",{className:"h-11 w-full flex justify-center",children:l&&(0,i.jsx)(m,{size:n.lg})})})})};var p=f},59996:function(e,t,l){var a=l(67294),n=l(50319),i=l(73722),s=l(64358),r=l(40481),o=l(42148),d=l(85897),c=l(75119),u=l(67421);let m=e=>{let[t,m]=(0,a.useState)(!1),{isPaidUser:v}=(0,r.Un)(),{pushNotification:x}=(0,o.lm)(),{t:h}=(0,u.$G)("lists"),[f,{loading:p,error:w,data:y}]=(0,n.D)(i.Z),g=async(t,a)=>{m(!0);let n=t["".concat(e,"Ids")]||[],i=t["".concat(e,"Count")]?t["".concat(e,"Count")]+1:1,r=n.includes(a);if(!r){let r=[...n,a];await f({variables:{input:{id:t.id,["".concat(e,"Ids")]:r,["".concat(e,"Count")]:i}}}),x(h("success_added_list"),d.m.success,(0,c.Vf)("success")),v()&&await l.g.analytics.track(s.b5,{itemType:e,itemId:a})}m(!1)},j=async(t,l)=>{if((null==l?void 0:l.length)>0){m(!0);let a=t["".concat(e,"Ids")]||[],n=[...Array.from(new Set([...a,...l]))];await f({variables:{input:{id:t.id,["".concat(e,"Ids")]:n,["".concat(e,"Count")]:null==n?void 0:n.length}}}),x(h("success_added_list"),d.m.success,(0,c.Vf)("success")),m(!1)}};return{onAddMultiToList:j,onAddToList:g,loadingAdd:t,error:w}};t.Z=m}}]);